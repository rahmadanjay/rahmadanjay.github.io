var questions = [
  {
    question: '',
    image: '/img/A1.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A2.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A3.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A4.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A5.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A6.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A7.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A8.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A9.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A10.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A11.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A12.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A13.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A14.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A15.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
    explanation:
      'Tentukan hubungan yang sesuai antara gambar 3 dan 4 dengan memilih gambar yang sesuai.',
  },
  {
    question: '',
    image: '/img/A16.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A17.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A18.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
    explanation:
      'Tentukan satu gambar yang berbeda dengan keempat gambar yang lain.',
  },
  {
    question: '',
    image: '/img/A19.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A20.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A21.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
    explanation:
      'Tentukan	gambar yang tepat untuk melanjutkan rangkaian pada gambar sebelumnya.',
  },
  {
    question: '',
    image: '/img/A22.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A23.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A24.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
  {
    question: '',
    image: '/img/A25.jpg', // ganti dengan path gambar soal
    answers: [
      {
        text: 'A',
        points: 0,
      }, // Salah
      {
        text: 'B',
        points: 0,
      }, // Benar
      {
        text: 'C',
        points: 0,
      }, // Salah
      {
        text: 'D',
        points: 0,
      }, // Salah
      {
        text: 'E',
        points: 5,
      }, // Salah
    ],
  },
];

var quizForme = document.getElementById('form-gambar');
for (var index = 0; index < questions.length; index++) {
  var q = questions[index];
  var questionBlock = document.createElement('div');
  questionBlock.classList.add('question3');

  questionBlock.innerHTML = ` <p>${index + 41}. ${q.question}</p> <img src="${
    q.image
  }" >`;

  // Tampilkan jawaban
  for (var i = 0; i < q.answers.length; i++) {
    var isChecked =
      localStorage.getItem('question3' + index) == q.answers[i].points;
    questionBlock.innerHTML += `
            <label>
                <input type="radio" name="question3${index}" value="${
      q.answers[i].points
    }" ${isChecked ? 'checked' : ''} required>
                ${q.answers[i].text}
            </label><br>
        `;
  }
  if (q.explanation) {
    var explanationBlock = document.createElement('div');
    explanationBlock.classList.add('explanation');
    explanationBlock.innerHTML = `<p>${q.explanation}</p>`;
    questionBlock.appendChild(explanationBlock);
  }

  // Ambil jawaban yang sudah disimpan sebelumnya

  quizForme.appendChild(questionBlock);
}

function saveScore3() {
  var totalScore = 0;
  for (var index = 0; index < questions.length; index++) {
    var selectedAnswer = document.querySelector(
      'input[name="question3' + index + '"]:checked'
    );
    if (selectedAnswer) {
      totalScore += parseInt(selectedAnswer.value);
      localStorage.setItem('question3' + index, selectedAnswer.value);
    }
  }
  localStorage.setItem('totalscore3', totalScore);
}
// Fungsi yang memanggil saveScore3 ketika terjadi perubahan pilihan
quizForme.addEventListener('change', saveScore3);

function next() {
  saveScore3();

  window.location.href = 'tkp2.html';
}
function goToPagem() {
  saveScore3();

  window.location.href = 'vol2.html';
}
function goToTkp() {
  saveScore3();

  window.location.href = '2tiu.html';
}

// TIMER
let countdownDuration;

function startCountdown() {
  // Ambil waktu tersisa dari localStorage
  countdownDuration = localStorage.getItem('remainingTime');
  if (!countdownDuration) {
    countdownDuration = 110 * 60; // Set waktu awal jika tidak ada
    localStorage.setItem('remainingTime', countdownDuration);
  } else {
    countdownDuration = parseInt(countdownDuration);
  }

  countdown = setInterval(() => {
    if (countdownDuration <= 0) {
      clearInterval(countdown);
      alert('Waktu habis!');
      return;
    }
    countdownDuration--;
    localStorage.setItem('remainingTime', countdownDuration);
    updateDisplay();
  }, 1000);

  updateDisplay();
}

function updateDisplay() {
  let hours = Math.floor(countdownDuration / 3600);
  let minutes = Math.floor((countdownDuration % 3600) / 60);
  let seconds = countdownDuration % 60;
  document.getElementById('countdown').innerText = `${String(hours).padStart(
    2,
    '0'
  )}:${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
}

function goToPage4() {
  window.location.href = 'vol2.html';
}
function goToPage44() {
  window.location.href = '2tiu.html';
}
// Fungsi untuk mereset quiz dan timer

// Panggil finishQuiz ketika tombol selesai ditekan

window.onload = startCountdown;
// Mulai quiz
window.addEventListener('load', quizForme);
window.addEventListener('load', saveScore3());
